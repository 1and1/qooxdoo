<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <title>qooxdoo &raquo; Demo</title>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout.css"/>
  <!--[if IE]>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout_ie.css"/>
  <![endif]-->
  <script type="text/javascript" src="../../script/qx.js"></script>
</head>
<body>
  <script type="text/javascript" src="../../script/layout.js"></script>

  <div id="demoDescription">
    <p>Dialog with qx.ui.form.TextField and qx.ui.form.TextArea</p>
    <p>Testing minimize handling.</p>
  </div>


  <script type="text/javascript" language="JavaScript">

      qx.core.Init.getInstance().defineMain(function() {

      var d = qx.ui.core.ClientDocument.getInstance();
      var txtfld;

      var  dialogEditFrage = new qx.ui.window.Window("Edit", "icon/16/editor.png");
      with(dialogEditFrage) {
        setSpace(300, 400, 100, 300);

        setShowClose(false);

        var qx = new qx.ui.basic.Atom('Question');
        with(qx)
        {
          setHorizontalChildrenAlign('right');
          set({top:10,left:10,width:'20%'});
        };
        add(qx);

        qx = txtfld = new qx.ui.form.TextArea();
        with (qx) {
          set({top:10,right:10,width:'70%'})
        }
        add(qx);

        qx = new qx.ui.basic.Atom('Type');
        with(qx)
        {
          setHorizontalChildrenAlign('right');
          set({top:70,left:10,width:'20%'});
        };
        add(qx);

        qx = new qx.ui.form.TextField();
        with (qx) {
          set({top:70,right:10,width:'70%'})
        }
        add(qx);


        var btnOK = new qx.ui.form.Button("OK", "icon/16/button-ok.png");
        var btnCancel = new qx.ui.form.Button("Cancel", "icon/16/button-cancel.png");
        var btnSetText = new qx.ui.form.Button("Reload", "icon/16/reload.png");

        btnOK.set({ bottom : 10, right : 10 });
        btnCancel.set({ bottom : 10, left : 10 });
        btnSetText.set({ bottom : 10, left : 100 });

        btnCancel.addEventListener("execute", function(e) {
          dialogEditFrage.close();
        });
        btnOK.addEventListener("execute", function(e) {
          dialogEditFrage.close();
        });

        btnSetText.addEventListener("execute", function(e) {
          txtfld.setValue("Some Text here!");
          txtfld.setFocused(true);
        });

        add(btnOK, btnCancel, btnSetText);
      }


      var btnOpen = new qx.ui.form.Button("Open the dialog");
      btnOpen.set({ top : 50, left : 20 });
      btnOpen.addEventListener("click", function(e) {
        dialogEditFrage.open();
      });

      var btnRestore = new qx.ui.form.Button("Restore the dialog");
      btnRestore.set({ top : 80, left : 20 });
      btnRestore.addEventListener("click", function(e) {
        dialogEditFrage.restore();
      });

      d.add(btnOpen,btnRestore,dialogEditFrage);
    }

  </script>

</body>
</html>