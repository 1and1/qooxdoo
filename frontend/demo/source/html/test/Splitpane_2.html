<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo</title>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout.css"/>
  <!--[if IE]>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout_ie.css"/>
  <![endif]-->
  <script type="text/javascript" src="../../script/qx.js"></script>
</head>
<body>
  <script type="text/javascript" src="../../script/layout.js"></script>

  <div id="demoDescription">
    <p>Test for Splitpane functionality.</p>
    <p>
      Splitpane with realtime resize method. This means, the
      new dimensions of panes will be computed and set on the fly.
      <strong>Warning:</strong> Don't try on slow computers. You will be warned ;-)
    </p>
  </div>

  <script type="text/javascript">

  qx.core.Init.getInstance().defineMain(function()
  {
    var d = qx.ui.core.ClientDocument.getInstance();
    
    // the splitpane itself
    var splitpane = new qx.ui.splitpane.HorizontalSplitPane;
    splitpane.setContinuousLayout(true);
    splitpane.setBorder(qx.renderer.border.BorderPresets.getInstance().black);
    splitpane.setBackgroundColor(new qx.renderer.color.Color("white"));
    splitpane.setLocation(20, 48);
    splitpane.setDimension(700, 500);
    

    
    // cache left pane
    var leftPane = splitpane.getLeftComponent();
    leftPane.setWidth(198);
    leftPane.setHeight('100%');

    // create content of left pane
    var tree = new qx.ui.tree.Tree("Inbox");
    tree.setWidth('100%');
    tree.setHeight('100%');
    tree.setBorder(qx.renderer.border.BorderPresets.getInstance().inset);
    tree.add(new qx.ui.tree.TreeFolder("Drafts"));
    tree.add(new qx.ui.tree.TreeFolder("Sent"));
    tree.add(new qx.ui.tree.TreeFolder("Trash"));
    tree.add(new qx.ui.tree.TreeFolder("Junk"));
    
    
    // add all the stuff to the left pane
    leftPane.add(tree);

    
    
    // cache right pane
    var rightPane = splitpane.getRightComponent();
    rightPane.setWidth('1*');
    rightPane.setHeight('100%');
    
    // create content of right pane
    var rightPaneContent = new qx.ui.splitpane.VerticalSplitPane(true);
    rightPaneContent.setWidth('100%');
    rightPaneContent.setHeight('100%');
    
    // caceh top pane of right content pane
    var rightPaneContentTopPane = rightPaneContent.getTopComponent();
    rightPaneContentTopPane.setWidth('100%');
    rightPaneContentTopPane.setHeight(248);
    
    // create content of right top pane
    var ld = [];
    var lt = [ "Image", "Text", "PDF", "Illustration", "Document" ];

    for (var i=0, t; i<333; i++)
    {
      t=Math.round(Math.random()*4);
      ld.push({ subject : { text : "Subject " + i }, from : { text : "qooxdoo User" }, date : { text : "01/26/2006" }});
    };

    var lc =
    {
      subject : { label : "Subject", width : 200, type : "text" },
      from : { label : "From", width : 100, type : "text" },
      date: { label : "Date", width : 100, type : "text" }
    };

    var view = new qx.ui.listview.ListView(ld, lc);
    view.setWidth('100%');
    view.setHeight('100%');
    view.setBorder(qx.renderer.border.BorderPresets.getInstance().inset);
    
    rightPaneContentTopPane.add(view);
    
    
    
    // caceh bottom pane of right content pane
    var rightPaneContentBottomPane = rightPaneContent.getBottomComponent();
    rightPaneContentBottomPane.setWidth('100%');
    rightPaneContentBottomPane.setHeight(248);
    
    var preview = new qx.ui.basic.Atom;
    preview.setWidth('100%');
    preview.setHeight('100%');
    preview.setBorder(qx.renderer.border.BorderPresets.getInstance().inset);
    preview.setHorizontalChildrenAlign('left');
    preview.setVerticalChildrenAlign('top');
    preview.setPaddingLeft(10);
    preview.setPaddingTop(10);
    
    preview.setLabel('<h1>Mail preview</h1><p>The body of the mail</p><ul><li>with a list</li><li>inside</li></ul>');

    rightPaneContentBottomPane.add(preview);
    
    
    // add all the stuff to the right pane
    rightPane.add(rightPaneContent);
    
    
    // finally add all to the document
    d.add(splitpane);

  });
  </script>
</body>
</html>