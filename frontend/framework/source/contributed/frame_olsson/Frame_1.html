<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <title>qooxdoo demo</title>
  <link type="text/css" rel="stylesheet" href="../../demo/demolayout.css"/>
  <script type="text/javascript" src="../../demo/demoinclude.js"></script>
 </head>
 <body>
  <script type="text/javascript" src="../../demo/demolayout.js"></script>

  <script type="text/javascript" src="./Definitions.js"></script>
  <script type="text/javascript" src="./QxFrame.js"></script>
  <script type="text/javascript" src="../statusbar_olsson/Definitions.js"></script>
  <script type="text/javascript" src="../statusbar_olsson/QxStatusBar.js"></script>
  <script type="text/javascript" src="../statusbar_olsson/QxStatusBarPane.js"></script>
  <script type="text/javascript" src="../clock_olsson/Definitions.js"></script>
  <script type="text/javascript" src="../clock_olsson/QxClock.js"></script>
  <script type="text/javascript" src="../clock_olsson/QxDigitalClock.js"></script>

  <div id="demoDescription">
    <p>Testing Frame implementation.</p>
    <p>The frame is a decorated window with extended user functionality.</p>
  </div>

  <script type="text/javascript">
    qx.core.Init.defineMain(function()
    {
      var doc = this.getClientWindow().getClientDocument();

      var mainF = new QxFrame("Test of frame");
      mainF.setSpace(20, 400, 48, 250);
      mainF.setMenuBar(createMenuBar());
      mainF.setToolBar(createToolBar());
      mainF.setStatusBar(createStatusBar());
      mainF.addEventListener(qx.constant.Event.KEYDOWN, function _onkeydown(e) {
        if(e.getKeyCode() == 90) // The NUM key
        {
          numL.setHtml("NUM");
        }
        else
        {
          numL.setHtml("");
        };
      });

      doc.add(mainF);

      mainF.open();

      function createMenuBar() {
        var menuMB = new qx.ui.menu.MenuBar();

        var fileM = new qx.ui.menu.Menu();

        var newMB    = new qx.ui.menu.MenuButton("New");
        var openMB   = new qx.ui.menu.MenuButton("Open");
        var saveAsMB = new qx.ui.menu.MenuButton("Save as..");
        var mailS    = new qx.ui.menu.MenuSeparator();
        var closeMB  = new qx.ui.menu.MenuButton("Close");
        var exitMB   = new qx.ui.menu.MenuButton("Exit");
        exitMB.addEventListener("execute", function() {
          mainF.close();
        });

        fileM.add(newMB, openMB, saveAsMB, mailS, closeMB, exitMB);

        var fileMBB = new qx.ui.menu.MenuBarButton("File", fileM);

        // Edit Menu
        var editM    = new qx.ui.menu.Menu();

        var undoMB        = new qx.ui.menu.MenuButton("Undo");
        var redoMB        = new qx.ui.menu.MenuButton("Redo");
        var editS1        = new qx.ui.menu.MenuSeparator();
        var cutMB         = new qx.ui.menu.MenuButton("Cut");
        var copyMB        = new qx.ui.menu.MenuButton("Copy");
        var pasteMB       = new qx.ui.menu.MenuButton("Paste");
        var deleteMB      = new qx.ui.menu.MenuButton("Delete");
        var editS2        = new qx.ui.menu.MenuSeparator();
        var selectAllMB   = new qx.ui.menu.MenuButton("Select all");
        var editS3        = new qx.ui.menu.MenuSeparator();
        var preferencesMB = new qx.ui.menu.MenuButton("Preferences");

        editM.add(undoMB, redoMB, editS1, cutMB, copyMB, pasteMB, deleteMB, editS2, selectAllMB, editS3, preferencesMB);

        var editMBB = new qx.ui.menu.MenuBarButton("Edit",editM);

        doc.add(fileM, editM);

        menuMB.add(fileMBB, editMBB);

        return menuMB;
      };

      function createToolBar() {
        var toolTB = new qx.ui.toolbar.ToolBar();

        var mailTBP = new qx.ui.toolbar.ToolBarPart();

        var newTBB = new qx.ui.toolbar.ToolBarButton("New","icon/16/file-new.png");

        mailTBP.add(newTBB);

        var firstTBS = new qx.ui.toolbar.ToolBarSeparator();

        var editTBP = new qx.ui.toolbar.ToolBarPart();

        var copyTBB = new qx.ui.toolbar.ToolBarButton("Copy","icon/16/edit-copy.png");

        var cutTBB = new qx.ui.toolbar.ToolBarButton("Cut","icon/16/edit-cut.png");

        var pasteTBB = new qx.ui.toolbar.ToolBarButton("Paste","icon/16/edit-paste.png");

        editTBP.add(copyTBB, cutTBB, pasteTBB);

        toolTB.add(mailTBP, firstTBS, editTBP);

        return toolTB;
      };

      function createStatusBar() {
        var statusSB = new QxStatusBar();

        var statusL = new qx.ui.basic.Label("Ready");
        var statusSBP1 = new QxStatusBarPane(statusL);
        statusSBP1.setWidth("50%");

        var numL = new qx.ui.basic.Label();
        var statusSBP2 = new QxStatusBarPane(numL);
        statusSBP2.setWidth(30);
        statusSBP2.setLeft(95);

        var digitalClockC = new QxDigitalClock();
        var statusSBP3 = new QxStatusBarPane(digitalClockC);
        statusSBP3.setLeft(98);

        statusSB.add(statusSBP1, statusSBP2, statusSBP3);

        return statusSB;
      };
    });
  </script>
 </body>
</html>
