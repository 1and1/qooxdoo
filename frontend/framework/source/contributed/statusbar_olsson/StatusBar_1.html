<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <title>qooxdoo demo</title>
  <link type="text/css" rel="stylesheet" href="../../demo/demolayout.css"/>
  <script type="text/javascript" src="../../demo/demoinclude.js"></script>
 </head>
 <body>
  <script type="text/javascript" src="../../demo/demolayout.js"></script>

  <script type="text/javascript" src="../frame_olsson/Definitions.js"></script>
  <script type="text/javascript" src="../frame_olsson/QxFrame.js"></script>
  <script type="text/javascript" src="./Definitions.js"></script>
  <script type="text/javascript" src="./QxStatusBar.js"></script>
  <script type="text/javascript" src="./QxStatusBarPane.js"></script>
  <script type="text/javascript" src="../clock_olsson/Definitions.js"></script>
  <script type="text/javascript" src="../clock_olsson/QxClock.js"></script>
  <script type="text/javascript" src="../clock_olsson/QxDigitalClock.js"></script>

  <div id="demoDescription">
    <p>Testing StatusBar implementation.</p>
    <p>The elements of the status bar will be created on the first open of the QxStatusBar.</p>
  </div>

  <script type="text/javascript">
    qx.core.Init.defineMain(function()
    {
      var doc = this.getClientWindow().getClientDocument();

      var mainF = new QxFrame("Test of status bar");
      mainF.setSpace(20, 400, 48, 250);

      var statusSB = new QxStatusBar();

      mainF.setStatusBar(statusSB);

      var statusL = new qx.ui.basic.Label("Ready");
      var statusSBP1 = new QxStatusBarPane(statusL);
      statusSBP1.setWidth("50%");

      var numL = new qx.ui.basic.Label();
      var statusSBP2 = new QxStatusBarPane(numL);
      statusSBP2.setWidth(30);
      statusSBP2.setLeft(95);

      var win = this.getClientWindow();
//      win.addEventListener(qx.constant.Event.KEYDOWN, win._onkeydown, win);

      function _onkeydown(e)
      {
        if(e.getKeyCode() == 90) // The NUM key
        {
          numL.setHtml("NUM");
        }
        else
        {
          numL.setHtml("");
        };
      };

      var digitalClockC = new QxDigitalClock();
      var statusSBP3 = new QxStatusBarPane(digitalClockC);
      statusSBP3.setLeft(98);

      statusSB.add(statusSBP1, statusSBP2, statusSBP3);

      doc.add(mainF);

      mainF.open();
    });
  </script>
</body>
</html>
