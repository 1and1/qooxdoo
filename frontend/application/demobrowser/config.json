{
	"include" : 
	[
		["apiconf", "../apiviewer/config.json"]
	],

	"jobs" :
	{
		"common" :
		{
			"let" :
			{
				"APPLICATION"  : "demobrowser",
				"QOOXDOO_PATH" : "../..",
				"QOOXDOO_URI"  : "../${QOOXDOO_PATH}"
			},

			"library" :
			[
				{
					"encoding" : "utf-8",
					"path"     : "${QOOXDOO_PATH}/framework/source",
					"uri"      : "${QOOXDOO_URI}/framework/source"
				},

				{
					"encoding" : "utf-8",
					"path"     : "./source",
					"uri"      : "../source"
				}
			],

			"include" :
			[
				"${APPLICATION}.Application",
				"qx.legacy.theme.ClassicRoyale"
			],

			"settings" :
			{
				"qx.version" : "0.8",
				"qx.application" : "${APPLICATION}.Application",
				"${APPLICATION}.resourceUri" : "resource"
			},

			"cache" :
			{
				"path" : "../../cache"
			}
		},


		"source-script" :
		{
			"extend" : ["common"],

			"settings" :
			{
				"qx.resourceUri" : "${QOOXDOO_URI}/framework/source/resource"
			},

			"source" :
			{
				"file" : "./source/script/${APPLICATION}.js"
			}
		},


		"source" :
		{
			"run" : 
			[
				"source-script",
				"source-data",
				"source-demo-jobs",
				"source-demos"
			]
		},


		"source-data" :
		{
			"extend" : ["common"],

			"shell" : 
			{
				"command" : "tool/gendata.py ./source/script/demodata.js ./source/demo"
			}
		},


		"source-demo-jobs" :
		{
			"extend" : ["common"],

			"shell" : 
			{
				"command" : "tool/genjson.py source/script"
			}
		},


		"source-demos" :
		{
			"extend" : ["common"],

			"shell" : 
			{
				"command" : "../../../frontend/tool/generator.py -c demo.json -j source"
			}
		},


		"build-script" :
		{
			"extend" : ["common"],

			"settings" :
			{
				"qx.resourceUri" : "resource"
			},

			"compile" :
			{
				"file" : "./build/script/${APPLICATION}.js",
				"uri"  : "script/${APPLICATION}.js"
			}
		},


		"build-files" :
		{
			"extend" : ["common"],

			"copy-files" :
			{
				"files" :
				[
					"index.html",
					"demo"
				],

				"target" : "build"
			}
		},


		"build-resources":
		{
			"extend" : ["common"],

			"copy-resources" :
			{
				"target" : "build",
				"resource-filter" : true
			}
		},


		"build-data" :
		{
			"extend" : ["common"],

			"shell" : 
			{
				"command" : "tool/gendata.py ./build/script/demodata.js ./source/demo"
			}
		},


		"build-demo-jobs" :
		{
			"extend" : ["common"],

			"shell" : 
			{
				"command" : "tool/genjson.py build/script"
			}
		},


		/* generate a build version of the demo apps */
		"build-demos" :
		{
			"extend" : ["common"],

			"shell" : 
			{
				"command" : "../../../frontend/tool/generator.py -c demo.json -j build"
			}
		},


		// putting it all together ...
		"build" :
		{
			"run" : 
			[ 
				/* this all has to be done for the build */
				"build-data",
				"build-demo-jobs",
				"build-demos",    // create the demo apps
				"build-resources", 
				"build-script", 
				"build-files" 
			]
		},


		"api" :
		{
			"extend" : ["apiconf/jobs/build-script"],

			"compile" :
			{
				"file" : "api/script/${APPLICATION}.js",
				"uri"  : "script/${APPLICATION}.js"
			}
		}
	}
}
