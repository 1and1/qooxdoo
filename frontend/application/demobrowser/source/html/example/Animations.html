<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo Browser</title>
  <script type="text/javascript" src="../../script/demo.js"></script>
  <script type="text/javascript" src="../util.js"></script>
</head>
<body>
  <div id="description">
    <p>qx.fx offers low level animation capabilites for DOM elements.</p>
  </div>

  <script type="text/javascript">
  qx.core.Init.getInstance().defineMain(function()
  {
   	var doc = qx.ui.core.ClientDocument.getInstance();
	var myElement = qx.bom.Element.create('div', { style : 'opacity:0.0;text-align:center;font-family:"Trebuchet MS","Lucida Grande",Verdana,sans-serif;color:white;left:30px;top:72px;position:absolute;width:200px;height:55px;border:2px #E5E5E5 solid;background-color:#134275;padding:5px;' });
	var doc = qx.ui.core.ClientDocument.getInstance();

	document.body.appendChild(myElement);

	myElement.id = "testDiv";
	myElement.innerHTML = 'Welcome to <br><b style="color:#F3FFB3;">qooxdoo</b> animations!';


	/*
	 * Each effect needs
	 * 1. an HTML element to modify
	 * 2. a map with effect spcific options 
	 */


	/*
	 * Effect for fading in the div container
	 */
	animShow = new qx.fx.Appear(myElement, {
	  position : qx.fx.Base.EffectPosition.end,
	  from : 0,
	  to : 1,
	  duration : 2
	});
	
	/*
	 * Effect for fading out the div container
	 */
	animHide = new qx.fx.Appear(myElement, {
	  position : qx.fx.Base.EffectPosition.front,
	  from : 1,
	  to : 0,
	  duration : 1
	});
	
	/*
	 * Effect for increasing the dimensions of the div container
	 */
	animIncrease = new qx.fx.Scale(myElement, 200, {
	  duration : 2,
	  scaleMode : "contents"
	});
	
	/*
	 * Effect for reduce the dimensions of the div container
	 */
	animShrink = new qx.fx.Scale(myElement, 50, {
	  duration : 2,
	  scaleMode : "contents"
	});


	/* Buttons */
	var btnShow = new qx.ui.form.Button("Fade in");
	var btnHide = new qx.ui.form.Button("Fade out");
	var btnIncrease = new qx.ui.form.Button("Increase");
	var btnShrink = new qx.ui.form.Button("Shrink");
	
	btnShow.setLocation(25, 25);
	btnHide.setLocation(85, 25)
	btnIncrease.setLocation(150, 25);
	btnShrink.setLocation(210, 25);

	/* Events */
	btnShow.addListener("execute", function(){
	  animShow.start();
	});
	
	btnShow.addListener("appear", function(){
		btnShow.focus();
	});
	
	btnHide.addListener("execute", function(){
	  animHide.start();
	});
	
	btnIncrease.addListener("execute", function(){
	  animIncrease.start();
	});
	
	btnShrink.addListener("execute", function(){
	  animShrink.start();
	});
	
	doc.add(btnShow, btnHide, btnIncrease, btnShrink);
   
  });
  </script>
</body>
</html>