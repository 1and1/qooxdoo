<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo Browser</title>

  <script type="text/javascript">
    qxsettings = {
      "qx.application":"BasicSample",
      "qx.enableApplicationLayout" : false };
  </script>

  <script type="text/javascript" src="../../script/demo.js"></script>
  <script type="text/javascript" src="../util.js"></script>
</head>
<body>
  <div id="description">
  </div>

  <div id="test"></div>

  <script type="text/javascript">
qx.Class.define("BasicSample",
{
  extend : qx.application.Abstract,

  members :
  {
    main : function()
    {
      this.base(arguments);

			var label1 = qx.bom.Label.create("Quite a long label text");
			label1.style.border = "1px solid red";
			label1.style.width = "80px";
			document.body.appendChild(label1);

			var pref = qx.bom.Label.getTextSize("Quite a long label text");
			this.debug("Preferred Label1 Size: " + pref.width + "x" + pref.height);



			var label2 = qx.bom.Label.create("This is <b>bold</b> text", true);
			label2.style.border = "1px solid red";
			label2.style.width = "80px";
			document.body.appendChild(label2);

			var pref = qx.bom.Label.getHtmlSize("This is <b>bold</b> text");
			this.debug("Preferred Label2 Size: " + pref.width + "x" + pref.height);

			var pref = qx.bom.Label.getHtmlSize("This is <b>bold</b> text", null, 80);
			this.debug("Preferred Label2 Size (HeightForWidth): " + pref.width + "x" + pref.height);



			var t1 = "hello world";
			var t2 = "foo bar";
			var clazz = qx.bom.Label;
			var start = new Date;
			for (var i=0; i<500; i++) {
				clazz.getTextSize(i%2?t1:t2);
			}
			var stop = new Date;
			this.debug("Runtime to measure 500 text blocks: " + (stop-start) + "ms");



			var h1 = "hello <b>world</b>";
			var h2 = "foo <i>bar</i>";
			var clazz = qx.bom.Label;
			var start = new Date;
			for (var i=0; i<500; i++) {
				clazz.getHtmlSize(i%2?h1:h2);
			}
			var stop = new Date;
			this.debug("Runtime to measure 500 html blocks: " + (stop-start) + "ms");
    }
  }
});

qx.core.Init.getInstance().setApplication(new BasicSample);
  </script>
</body>
</html>
