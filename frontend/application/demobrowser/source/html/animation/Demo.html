<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo Browser</title>
  <script type="text/javascript" src="../../script/demo.js"></script>
  <script type="text/javascript" src="../util.js"></script>
</head>
<body>
  <div id="description">
    <p>qx.fx offers low level animation capabilites for DOM elements.</p>
  </div>

  <script type="text/javascript">

  var elementStyle = 'opacity:0.0;text-align:center;font-family:"Trebuchet MS","Lucida Grande",Verdana,sans-serif;color:white;left:110px;top:82px;position:absolute;width:200px;height:55px;border:2px #E5E5E5 solid;background-color:#134275;padding:5px;';
  function resetElement(el)
  {
    qx.bom.element.Style.setCss(el,  elementStyle);
  }
  
  qx.core.Init.getInstance().defineMain(function()
  {

    var doc = qx.ui.core.ClientDocument.getInstance();
  	var myElement = qx.bom.Element.create('div', { style : elementStyle });
  	var doc = qx.ui.core.ClientDocument.getInstance();
  
  	document.body.appendChild(myElement);
  
  	myElement.id = "testDiv";
  	myElement.innerHTML = 'Welcome to <br><b style="color:#F3FFB3;">qooxdoo</b> animations!';
  
  	/*
  	 * Each effect needs
  	 * 1. an HTML element to modify
  	 * 2. a map with effect spcific options 
  	 */
  
  
  	/*
  	 * Effect for fading in the div container
  	 */
  	animShow = new qx.fx.effect.core.FadeIn(myElement, {
  	  position : qx.fx.Base.EffectPosition.end,
  	  from : 0,
  	  to : 1,
  	  duration : 2
  	});
  	
  	/*
  	 * Effect for fading out the div container
  	 */
  	 var animHide = new qx.fx.effect.core.FadeOut(myElement, {
  	  duration : 1
  	});
  	
  	/*
  	 * Effect for increasing the dimensions of the div container
  	 */
  	 var animIncrease = new qx.fx.effect.core.Scale(myElement, 200, {
  	  duration : 2,
  	  scaleMode : "contents"
  	});
  	
  	/*
  	 * Effect for reduce the dimensions of the div container
  	 */
  	 var animShrink = new qx.fx.effect.core.Scale(myElement, 50, {
  	  duration : 2,
  	  scaleMode : "contents"
  	});
  
  
       /*
       * This FadeIn effect demonstrates a different transition: wobble
       * In opposite to the linear transition, this one differs between the values
       * Just take a look at this transition behavior to get the idea. ;-)
       */
  	 var animFadeInWobble = new qx.fx.effect.core.FadeIn(myElement, {
  	  position : qx.fx.Base.EffectPosition.front,
  	  from : 0,
  	  to : 1,
  	  duration : 6,
  	  transition : qx.fx.Transition.wobble
  	});
  
       /*
       * This Scale effect shows the sinoidal transition.
       */
  	 var animIncreaseSinoidal = new qx.fx.effect.core.Scale(myElement, 200, {
  	  duration : 4,
  	  delay : 2,
  	  scaleMode : "contents",
  	  transition : qx.fx.Transition.sinoidal
  	}); 
  	
       /*
       * This is one of the combination effect.
       * Puff will scale and fade out the given element and looks
       * as if it the element explodes.
       */
  	var animPuff = new qx.fx.effect.combination.Puff(myElement);
  
  	var animMoveAway = new qx.fx.effect.core.Move(myElement, {
  	  x : 600,
  	  y : 300,
  	  transition : qx.fx.Transition.spring,
      mode : "absolute"
  	});
  
  	var animMoveBack = new qx.fx.effect.core.Move(myElement, {
  	  x : 110,
  	  y : 82,
  	  transition : qx.fx.Transition.sinoidal,
      mode : "absolute"
  	});
  
  	/* Buttons */
  	var btnShow = new qx.ui.form.Button("Fade in");
  	var btnHide = new qx.ui.form.Button("Fade out");
  	var btnIncrease = new qx.ui.form.Button("Increase");
  	var btnShrink = new qx.ui.form.Button("Shrink");
  	var btnCombination = new qx.ui.form.Button("Fade in & increase");
  	var btnPuff = new qx.ui.form.Button("Puff");
  	var btnMoveAway = new qx.ui.form.Button("Move away");
  	var btnMoveBack = new qx.ui.form.Button("Move back");
  	var btnReset = new qx.ui.form.Button("Reset element");
  
  
  	btnShow.setLocation(25, 25);
  	btnHide.setLocation(85, 25)
  	btnIncrease.setLocation(150, 25);
  	btnShrink.setLocation(210, 25);
  	btnCombination.setLocation(260, 25);
  	btnPuff.setLocation(370, 25);
  	btnMoveAway.setLocation(410, 25);
  	btnMoveBack.setLocation(485, 25);
  	btnReset.setLocation(25, 57);
  
  	/* Events */
  	btnShow.addListener("execute", function(){
  	  animShow.start();
  	});
  	
  	btnShow.addListener("appear", function(){
  	  btnShow.focus();
  	});
  	
  	btnHide.addListener("execute", function(){
  	  animHide.start();
  	});
  	
  	btnIncrease.addListener("execute", function(){
  	  animIncrease.start();
  	});
  	
  	btnShrink.addListener("execute", function(){
  	  animShrink.start();
  	});
  
  	btnCombination.addListener("execute", function(){
  	  animFadeInWobble.start();
  	  animIncreaseSinoidal.start();
  	});
  	
  	btnPuff.addListener("execute", function(){
  	  animPuff.start();
  	});
  
  	btnMoveAway.addListener("execute", function(){
  	  animMoveAway.start();
  	});
  
  	btnMoveBack.addListener("execute", function(){
  	  animMoveBack.start();
  	});
  
  	btnReset.addListener("execute", function(){
  	  resetElement(myElement);
  	});
  
  	btnReset.setBackgroundColor("#B22222");
  
  	doc.add(btnShow, btnHide, btnIncrease, btnShrink, btnCombination, btnPuff, btnMoveAway, btnMoveBack, btnReset);
     
  });
  </script>
</body>
</html>
