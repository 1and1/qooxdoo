<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo Browser</title>
  <script type="text/javascript" src="../../script/demo.js"></script>
  <script type="text/javascript" src="../util.js"></script>
</head>
<body>
  <div id="description">
    <p>qx.fx offers low level animation capabilites for DOM elements.</p>
  </div>

  <script type="text/javascript">

  var elementStyle = 'opacity:0.0;text-align:center;font-family:"Trebuchet MS","Lucida Grande",Verdana,sans-serif;color:white;left:110px;top:102px;position:absolute;width:200px;height:55px;border:2px #E5E5E5 solid;background-color:#134275;z-Index:2;';
  var myElement;

  function resetElement(el)
  {
    qx.bom.element.Style.setCss(el,  elementStyle);
  }

  qx.Class.define("AnimationDemo",
  {

    extend : qx.legacy.application.Gui,

    members :
    {
      main : function()
      {

        this.base(arguments);
        var doc = doc = qx.legacy.ui.core.ClientDocument.getInstance();
        myElement = qx.bom.Element.create('div', { style : elementStyle });

        document.body.appendChild(myElement);

        myElement.id = "testDiv";
        myElement.innerHTML = 'Welcome to <br><b style="color:#F3FFB3;">qooxdoo</b> animations!';

        /*
         * Each effect needs
         * 1. an HTML element to modify
         * 2. a map with effect spcific options
         */


        /*
         * Effect for fading in the div container
        */
        var animShow = new qx.fx.effect.core.FadeIn(myElement);
        animShow.set({
          position : qx.fx.Base.EffectPosition.END,
          from : 0,
          to : 1,
          duration : 2
        });

        /*
         * Effect for fading out the div container
        */
        var animHide = new qx.fx.effect.core.FadeOut(myElement);
        animHide.setDuration(1);

        /*
         * Effect for increasing the dimensions of the div container
        */
        var animIncrease = new qx.fx.effect.core.Scale(myElement);
        animIncrease.set({
          scaleTo : 200,
          duration : 2,
          scaleMode : "contents"
        });

        /*
         * Effect for reduce the dimensions of the div container
        */
        var animDecrease = new qx.fx.effect.core.Scale(myElement);
        animDecrease.set({
          scaleTo : 50,
          duration : 2,
          scaleMode : "contents"
        });

        /*
        * This FadeIn effect demonstrates a different transition: wobble
        * In opposite to the linear transition, this one differs between the values
        * Just take a look at this transition behavior to get the idea. ;-)
        */
        var animFadeInWobble = new qx.fx.effect.core.FadeIn(myElement);
        animFadeInWobble.set({
          position : qx.fx.Base.EffectPosition.FRONT,
          from : 0,
          to : 1,
          duration : 6,
          transition : qx.fx.Transition.wobble
        });

        /*
        * This Scale effect shows the sinoidal transition.
        */
        var animIncreaseSinoidal = new qx.fx.effect.core.Scale(myElement);
        animIncreaseSinoidal.set({
          scaleTo : 200,
          duration : 4,
          delay : 2,
          scaleMode : "contents",
          transition : qx.fx.Transition.sinoidal
        });

        /*
        * This is one of the combination effect.
        * Puff will scale and fade out the given element and looks
        * as if it the element explodes.
        */
        var animPuff = new qx.fx.effect.combination.Puff(myElement);

        /*
        * This move effect moves the element to the given coordinates
        * Note that you these coordinates can be absolute to the document or relative to the element's position.
        */
        var animMoveAway = new qx.fx.effect.core.Move(myElement);
        animMoveAway.set({
          x : 600,
          y : 300,
          transition : qx.fx.Transition.sinoidal,
          mode : "absolute"
        });

        /*
        * This move effect moves the element back to the start coordinates.
        * It uses a nicely transition, which bounces the element.
        */
        var animMoveBack = new qx.fx.effect.core.Move(myElement);
        animMoveBack.set({
          x : 110,
          y : 102,
          transition : qx.fx.Transition.spring,
          mode : "absolute"
        });

        /*
        * Grow is another combination effect. Internally, it uses
        * the FadeIn, Scale and Move effect.
        */
        var animGrow = new qx.fx.effect.combination.Grow(myElement);
        animGrow.setDirection("center");

        var animShake = new qx.fx.effect.combination.Shake(myElement);

        var animPulsate = new qx.fx.effect.combination.Pulsate(myElement);

        /*
        * Shake is a combination effect without options
        */
        var animShake = new qx.fx.effect.combination.Shake(myElement);
        var animSwitchOff = new qx.fx.effect.combination.SwitchOff(myElement);
        var animFold = new qx.fx.effect.combination.Fold(myElement);

        var animHigh = new qx.fx.effect.core.Highlight(myElement);
        animHigh.set({
          startColor : "#134275",
          duration : 1
        });

        var animAHigh = new qx.fx.effect.core.Highlight(myElement);
        animAHigh.set({
          startColor : "#134275",
          transition : qx.fx.Transition.wobble,
          duration : 3
        });

        var animColorFlow = new qx.fx.effect.combination.ColorFlow(myElement);
        animColorFlow.setStartColor("#134275");

        var animShrink = new qx.fx.effect.combination.Shrink(myElement);
        animShrink.setDirection("center");

        var animDropOut = new qx.fx.effect.combination.DropOut(myElement);

        /* Buttons */
        var btnShow = new qx.legacy.ui.form.Button("Fade in");
        var btnHide = new qx.legacy.ui.form.Button("Fade out");
        var btnIncrease = new qx.legacy.ui.form.Button("Increase");
        var btnDecrease = new qx.legacy.ui.form.Button("Decrease");
        var btnCombination = new qx.legacy.ui.form.Button("Fade in & increase");
        var btnPuff = new qx.legacy.ui.form.Button("Puff");
        var btnMoveAway = new qx.legacy.ui.form.Button("Move away");
        var btnMoveBack = new qx.legacy.ui.form.Button("Move back");
        var btnGrow = new qx.legacy.ui.form.Button("Grow");
        var btnShake = new qx.legacy.ui.form.Button("Shake");
        var btnPulsate = new qx.legacy.ui.form.Button("Pulsate");
        var btnSwitchOff = new qx.legacy.ui.form.Button("Switch off");
        var btnFold = new qx.legacy.ui.form.Button("Fold");
        var btnHigh = new qx.legacy.ui.form.Button("Highlight");
        var btnAHigh = new qx.legacy.ui.form.Button("Annoying Highlight ;-)");
        var btnColorFlow = new qx.legacy.ui.form.Button("ColorFlow");
        var btnShrink = new qx.legacy.ui.form.Button("Shrink");
        var btnDropOut = new qx.legacy.ui.form.Button("DropOut");

        var btnReset = new qx.legacy.ui.form.Button("Reset element");


        var buttonBar1 = new qx.legacy.ui.layout.HorizontalBoxLayout().set({
          height: "auto",
          width: "auto",
          top: 25,
          left: 25,
          spacing: 10
        });
        buttonBar1.add(btnShow, btnHide, btnIncrease, btnDecrease, btnCombination, btnPuff, btnMoveAway, btnMoveBack, btnGrow, btnShake);
        buttonBar1.addToDocument();

        var buttonBar2 = new qx.legacy.ui.layout.HorizontalBoxLayout().set({
          height: "auto",
          width: "auto",
          top: 60,
          left: 25,
          spacing: 10
        });
        buttonBar2.add(btnSwitchOff, btnPulsate, btnFold, btnHigh, btnAHigh, btnColorFlow, btnShrink, btnDropOut, btnReset);
        buttonBar2.addToDocument();

        /*
        btnShow.setLocation(25, 25);
        btnHide.setLocation(85, 25)
        btnIncrease.setLocation(150, 25);
        btnDecrease.setLocation(210, 25);
        btnCombination.setLocation(260, 25);
        btnPuff.setLocation(370, 25);
        btnMoveAway.setLocation(410, 25);
        btnMoveBack.setLocation(485, 25);
        btnGrow.setLocation(557, 25);
        btnShake.setLocation(600, 25);
        btnSwitchOff.setLocation(650, 25);
        btnPulsate.setLocation(720, 25);
        btnFold.setLocation(770, 25);
        btnHigh.setLocation(810, 25);

        btnAHigh.setLocation(25, 60);
        btnColorFlow.setLocation(160, 60);
        btnShrink.setLocation(235, 60);
        btnDropOut.setLocation(285, 60);

        btnReset.setLocation(25, 87);
        */

        /* Events */
        btnShow.addListener("execute", function(){
          animShow.start();
        });

        btnShow.addListener("appear", function(){
          btnShow.focus();
        });

        btnHide.addListener("execute", function(){
          animHide.start();
        });

        btnIncrease.addListener("execute", function(){
          animIncrease.start();
        });

        btnDecrease.addListener("execute", function(){
          animDecrease.start();
        });

        btnCombination.addListener("execute", function(){
          animFadeInWobble.start();
          animIncreaseSinoidal.start();
        });

        btnPuff.addListener("execute", function(){
          animPuff.start();
        });

        btnMoveAway.addListener("execute", function(){
          animMoveAway.start();
        });

        btnMoveBack.addListener("execute", function(){
          animMoveBack.start();
        });

        btnGrow.addListener("execute", function(){
          animGrow.start();
        });

        btnShake.addListener("execute", function(){
          animShake.start();
        });

        btnSwitchOff.addListener("execute", function(){
          animSwitchOff.start();
        });

        btnPulsate.addListener("execute", function(){
          animPulsate.start();
        });

        btnFold.addListener("execute", function(){
          animFold.start();
        });

        btnHigh.addListener("execute", function(){
          animHigh.start();
        });

        btnAHigh.addListener("execute", function(){
          animAHigh.start();
        });

        btnColorFlow.addListener("execute", function(){
          animColorFlow.start();
        });

        btnShrink.addListener("execute", function(){
          animShrink.start();
        });

        btnDropOut.addListener("execute", function(){
          animDropOut.start();
        });


        btnReset.addListener("execute", function(){
          resetElement(myElement);
        });

        btnReset.setBackgroundColor("#B22222");

        //doc.add(btnShow, btnHide, btnIncrease, btnDecrease, btnCombination, btnPuff, btnMoveAway, btnMoveBack, btnGrow, btnShake, btnSwitchOff, btnPulsate, btnFold, btnHigh, btnAHigh, btnColorFlow, btnShrink, btnDropOut, btnReset);
      }
    }

  });
  qx.core.Init.getInstance().setApplication(new AnimationDemo);

  </script>
</body>
</html>
